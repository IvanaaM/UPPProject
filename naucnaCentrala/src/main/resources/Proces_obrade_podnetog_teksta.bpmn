<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="Definitions_1gnrzrv" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="3.4.1">
  <bpmn:process id="Proces_obrade_podnetog_teksta" name="Proces obrade podnetog teksta" isExecutable="true">
    <bpmn:startEvent id="StartEvent_1" camunda:initiator="user">
      <bpmn:outgoing>SequenceFlow_1pk2zve</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:sequenceFlow id="SequenceFlow_1pk2zve" sourceRef="StartEvent_1" targetRef="Task_1ng75p6" />
    <bpmn:userTask id="Task_1ng75p6" name="Odabir casopisa" camunda:assignee="${user}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="casopis" label="Casopis u kom zelite da objavite rad" type="enum" />
        </camunda:formData>
        <camunda:taskListener delegateExpression="${magazinesHandler}" event="create" />
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1pk2zve</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0ftqdzl</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="SequenceFlow_0ftqdzl" sourceRef="Task_1ng75p6" targetRef="ExclusiveGateway_1ot7nrm" />
    <bpmn:userTask id="Task_0nh4hbc" name="Unos podataka o radu" camunda:assignee="${user}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="naslov" label="Naslov" type="string">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="koautori" label="Koautori" type="string">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="kljucniPojmovi" label="Kljucni pojmovi" type="string">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="apstrakt" label="Apstrakt" type="string">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="naucnaOblast" label="Naucna oblast" type="enum">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="pdf" label="PDF" type="string">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
        </camunda:formData>
        <camunda:inputOutput>
          <camunda:inputParameter name="Input_3v744oq" />
          <camunda:outputParameter name="Output_3bs1s1h" />
        </camunda:inputOutput>
        <camunda:taskListener delegateExpression="${handlerSAM}" event="create" />
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0bfek1l</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_1i83r0c</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_15aud0u</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0v6w7mv</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="SequenceFlow_0v6w7mv" sourceRef="Task_0nh4hbc" targetRef="Task_082m1vu" />
    <bpmn:serviceTask id="Task_1wkpbia" name="Slanje mejla autoru" camunda:class="com.ftn.service.SendEmailAuthor">
      <bpmn:incoming>SequenceFlow_0v1romv</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_195xwva</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_195xwva" sourceRef="Task_1wkpbia" targetRef="Task_0pczlck" />
    <bpmn:userTask id="Task_0pczlck" name="Provera podataka novog rada" camunda:assignee="${glavniUrednik}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="tematskiPrihvatljiv" label="Tematski prihvatljiv rad?" type="boolean" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_195xwva</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0dn1jri</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_0y5bhrw">
      <bpmn:incoming>SequenceFlow_0dn1jri</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1m1a5vd</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_0s72x00</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_0dn1jri" sourceRef="Task_0pczlck" targetRef="ExclusiveGateway_0y5bhrw" />
    <bpmn:endEvent id="EndEvent_064o835">
      <bpmn:incoming>SequenceFlow_0m0exfh</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="SequenceFlow_1m1a5vd" name="Rad se odbija" sourceRef="ExclusiveGateway_0y5bhrw" targetRef="Task_0yngy17">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${tematskiPrihvatljiv == false}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:exclusiveGateway id="ExclusiveGateway_0rj9g0v">
      <bpmn:incoming>SequenceFlow_01toill</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0ehfgfn</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_0nov1z3</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_0s72x00" sourceRef="ExclusiveGateway_0y5bhrw" targetRef="Task_0cuuxi6">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${tematskiPrihvatljiv == true}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_0ehfgfn" name="Nije dobro formatiran?" sourceRef="ExclusiveGateway_0rj9g0v" targetRef="Task_04cabah">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${dobroFormatiran == false}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:userTask id="Task_04cabah" name="Postavka vremenskog roka" camunda:assignee="${glavniUrednik}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="rok" label="Vremenski rok za korigovanje (P&#60;date&#62;T&#60;time&#62;)" type="string">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="komentar" label="Komentar" type="string">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0ehfgfn</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1qmz0is</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="SequenceFlow_1qmz0is" sourceRef="Task_04cabah" targetRef="Task_1ch13t8" />
    <bpmn:serviceTask id="Task_1ch13t8" name="Slanje mejla autoru za korigovanje" camunda:class="com.ftn.service.SendEmailCorrectPaper">
      <bpmn:incoming>SequenceFlow_1qmz0is</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0d969as</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:userTask id="Task_10mfn61" name="Korigovanje PDF-a" camunda:assignee="${user}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="pdf" label="PDF" type="string" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0d969as</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_005uica</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="SequenceFlow_0nov1z3" name="Tematski prihvatljiv i dobro formatiran" sourceRef="ExclusiveGateway_0rj9g0v" targetRef="Task_0izwtf0">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${dobroFormatiran == true}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:boundaryEvent id="IntermediateThrowEvent_0xm8n7n" attachedToRef="Task_10mfn61">
      <bpmn:outgoing>SequenceFlow_0vmv22b</bpmn:outgoing>
      <bpmn:timerEventDefinition>
        <bpmn:timeDuration xsi:type="bpmn:tFormalExpression">${rok}</bpmn:timeDuration>
      </bpmn:timerEventDefinition>
    </bpmn:boundaryEvent>
    <bpmn:sequenceFlow id="SequenceFlow_0vmv22b" sourceRef="IntermediateThrowEvent_0xm8n7n" targetRef="Task_1d9r0rt" />
    <bpmn:endEvent id="EndEvent_10bvovk">
      <bpmn:incoming>SequenceFlow_0zu31ul</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="SequenceFlow_0d969as" sourceRef="Task_1ch13t8" targetRef="Task_10mfn61" />
    <bpmn:subProcess id="SubProcess_18mxfg9" name="Uplata clanarine">
      <bpmn:incoming>SequenceFlow_04l5bot</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_15aud0u</bpmn:outgoing>
      <bpmn:startEvent id="StartEvent_1hxza2q">
        <bpmn:outgoing>SequenceFlow_0m2cn4i</bpmn:outgoing>
      </bpmn:startEvent>
      <bpmn:sequenceFlow id="SequenceFlow_0m2cn4i" sourceRef="StartEvent_1hxza2q" targetRef="Task_12j9my1" />
      <bpmn:userTask id="Task_12j9my1" name="Uplata clanarine" camunda:assignee="${user}">
        <bpmn:extensionElements>
          <camunda:formData>
            <camunda:formField id="placanjeC" label="Potvrdite uplatu clanarine" type="boolean">
              <camunda:validation>
                <camunda:constraint name="required" />
              </camunda:validation>
            </camunda:formField>
          </camunda:formData>
        </bpmn:extensionElements>
        <bpmn:incoming>SequenceFlow_0m2cn4i</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_0f0a8oa</bpmn:outgoing>
      </bpmn:userTask>
      <bpmn:sequenceFlow id="SequenceFlow_0f0a8oa" sourceRef="Task_12j9my1" targetRef="Task_1rmemd7" />
      <bpmn:serviceTask id="Task_1rmemd7" name="Clanarina placena" camunda:class="com.ftn.service.Pay">
        <bpmn:incoming>SequenceFlow_0f0a8oa</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_0ikvtb7</bpmn:outgoing>
      </bpmn:serviceTask>
      <bpmn:endEvent id="EndEvent_0m9hdhp">
        <bpmn:incoming>SequenceFlow_0ikvtb7</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:sequenceFlow id="SequenceFlow_0ikvtb7" sourceRef="Task_1rmemd7" targetRef="EndEvent_0m9hdhp" />
    </bpmn:subProcess>
    <bpmn:userTask id="Task_1xusaua" name="Analiza recenzije" camunda:assignee="${urednik}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="komentariRecenzija" label="Komentari recenzija" type="enum" />
          <camunda:formField id="preporukeRecenzija" label="Preporuke recenzija" type="enum" />
          <camunda:formField id="komentariZaUred" label="Komentari namenjeni uredniku" type="enum" />
          <camunda:formField id="odluka1" label="Odluka" type="enum">
            <camunda:value id="da" name="Prihvata se" />
            <camunda:value id="daUMI" name="Prihvata se uz manje ispravke" />
            <camunda:value id="daUUVI" name="Prihvata se uslovno uz vece ispravke" />
            <camunda:value id="ne" name="Odbija se" />
          </camunda:formField>
        </camunda:formData>
        <camunda:taskListener event="create">
          <camunda:script scriptFormat="Groovy">taskFormData = task.getExecution().getProcessEngineServices().getFormService().getTaskFormData(task.getId());
formFields = taskFormData. getFormFields();
if(formFields!=null){
   for(field in formFields){
       if( field.getId() == "komentariRecenzija"){
           items = field.getType().getValues();
           for(komentar in komentari){
               items.put(komentar.getValue(), komentar.getValue());
           }
       }
       else if (field.getId() == "preporukeRecenzija"){
           items2 = field.getType().getValues();
           for(preporuka in preporuke){

               if (preporuka.getValue() == "prep1" || preporuka.getValue() == "prep11"){
               items2.put(preporuka.getValue(), "Prihvata se");
       }
               if (preporuka.getValue() == "prep2" || preporuka.getValue() == "prep22"){
               items2.put(preporuka.getValue(), "Prihvata se uz manje ispravke");
       }
               if (preporuka.getValue() == "prep3" || preporuka.getValue() == "prep33"){
               items2.put(preporuka.getValue(), "Prihvata se uslovno uz vece ispravke");
       }
               if (preporuka.getValue() == "prep4" || preporuka.getValue() == "prep44"){
               items2.put(preporuka.getValue(), "Odbija se");
       }
    }
  } else if (field.getId() == "komentariZaUred"){

     items3 = field.getType().getValues();
           for(komentar1 in komentariU){
               items3.put(komentar1.getValue(), komentar1.getValue());
           }
}
}
}</camunda:script>
        </camunda:taskListener>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_03qhkkw</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1aj20ry</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="SequenceFlow_01toill" sourceRef="Task_0cuuxi6" targetRef="ExclusiveGateway_0rj9g0v" />
    <bpmn:userTask id="Task_0cuuxi6" name="Provera PDF dokumenta" camunda:assignee="${glavniUrednik}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="dobroFormatiran" label="Dobro formatiran?" type="boolean" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0s72x00</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_01toill</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:serviceTask id="Task_0izwtf0" name="Cuvanje podataka o novom radu" camunda:class="com.ftn.service.SavePaper">
      <bpmn:incoming>SequenceFlow_0nov1z3</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_01vlqe4</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:userTask id="Task_15174t7" name="Odabir recenzenata" camunda:assignee="${urednikNO}">
      <bpmn:extensionElements>
        <camunda:taskListener delegateExpression="${handlerReviewersForR}" event="create" />
        <camunda:formData>
          <camunda:formField id="recenz" label="Odabir recenzenata (minimum 2)" type="enum" />
        </camunda:formData>
        <camunda:inputOutput>
          <camunda:outputParameter name="lista1">
            <camunda:list>
              <camunda:value>probaaa</camunda:value>
            </camunda:list>
          </camunda:outputParameter>
        </camunda:inputOutput>
        <camunda:taskListener delegateExpression="${handlerR}" event="complete" />
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1n8fr45</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0n1hq78</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="SequenceFlow_005uica" sourceRef="Task_10mfn61" targetRef="Task_15l1pq0" />
    <bpmn:exclusiveGateway id="ExclusiveGateway_0gy4szf">
      <bpmn:incoming>SequenceFlow_1aj20ry</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1xeb3iv</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_0zka55b</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_1d838t7</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_1aj20ry" sourceRef="Task_1xusaua" targetRef="ExclusiveGateway_0gy4szf" />
    <bpmn:sequenceFlow id="SequenceFlow_1xeb3iv" name="Rad se prihvata uz manje/vece ispravke" sourceRef="ExclusiveGateway_0gy4szf" targetRef="Task_02wrpkl">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${odluka1 == 'daUMI' || odluka1 == 'daUUVI'}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:userTask id="Task_0unp8sg" name="Ispravka rada" camunda:assignee="autor">
      <bpmn:extensionElements>
        <camunda:taskListener event="create">
          <camunda:script scriptFormat="Groovy">taskFormData = task.getExecution().getProcessEngineServices().getFormService().getTaskFormData(task.getId());

formFields = taskFormData. getFormFields();
if(formFields!=null){
   for(field in formFields){
       if( field.getId() == "komentariIspravka"){
           items = field.getType().getValues();
           for(komentar in komentari){
               items.put(komentar.getValue(), komentar.getValue());
           }
       }
}
}</camunda:script>
        </camunda:taskListener>
        <camunda:formData>
          <camunda:formField id="pdf" label="Rad PDF" type="string" />
          <camunda:formField id="komentariIspravka" label="Komentari recenzenata" type="enum" />
          <camunda:formField id="porukaRec" label="Odgovor na komentare + navedene izmene u tekstu" type="string" defaultValue="${&#34; &#34;}">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_08sdjcr</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0yxira0</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:boundaryEvent id="IntermediateThrowEvent_0r5uxvl" attachedToRef="Task_0unp8sg">
      <bpmn:outgoing>SequenceFlow_1qenln2</bpmn:outgoing>
      <bpmn:timerEventDefinition>
        <bpmn:timeDate xsi:type="bpmn:tFormalExpression">${rokIspravka}</bpmn:timeDate>
      </bpmn:timerEventDefinition>
    </bpmn:boundaryEvent>
    <bpmn:userTask id="Task_02wrpkl" name="Postavka roka za ispravku rada" camunda:assignee="${urednik}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="rokIspravka" label="Rok ispravke" type="string">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1xeb3iv</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0lgl4wx</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="SequenceFlow_0yxira0" sourceRef="Task_0unp8sg" targetRef="Task_1sht6lj" />
    <bpmn:userTask id="Task_1sht6lj" name="Ponovni pregled rada" camunda:assignee="${urednik}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="pdf" label="Korekcija" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_14qaumf</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_0yxira0</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0aak7nm</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_0vpznun">
      <bpmn:incoming>SequenceFlow_0aak7nm</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1ta9unn</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_162gvvb</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_0aak7nm" sourceRef="Task_1sht6lj" targetRef="ExclusiveGateway_0vpznun" />
    <bpmn:sequenceFlow id="SequenceFlow_1ta9unn" name="Prethodno zahtevane manje izmene" sourceRef="ExclusiveGateway_0vpznun" targetRef="Task_0uzmh3k">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${odluka1=='daUMI'}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:userTask id="Task_0uzmh3k" name="Konacna odluka" camunda:assignee="${urednik}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="pdf" label="PDF Rad" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="enumKon" label="Konacna odluka" type="enum">
            <camunda:value id="konDa" name="Prihvati rad za objavljivanje" />
            <camunda:value id="konNe" name="Vrati autoru na doradu" />
          </camunda:formField>
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1ta9unn</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1u6u91a</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_1fyzi59">
      <bpmn:incoming>SequenceFlow_1u6u91a</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_12e38yz</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_0foukse</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_1u6u91a" sourceRef="Task_0uzmh3k" targetRef="ExclusiveGateway_1fyzi59" />
    <bpmn:sequenceFlow id="SequenceFlow_12e38yz" sourceRef="ExclusiveGateway_1fyzi59" targetRef="Task_0amx9tr">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${enumKon == 'konDa'}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_008uqd0" sourceRef="Task_0amx9tr" targetRef="Task_0ei7sqx" />
    <bpmn:serviceTask id="Task_0amx9tr" name="Prihvata se rad" camunda:expression="${execution.setVariable(&#39;prihvacenRad&#39;, true)}">
      <bpmn:incoming>SequenceFlow_12e38yz</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_0zka55b</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_008uqd0</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Task_0ei7sqx" name="Salje se notifikacija autoru o prihvatanju rada" camunda:expression="${true}">
      <bpmn:incoming>SequenceFlow_008uqd0</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0wywhhg</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_0wywhhg" sourceRef="Task_0ei7sqx" targetRef="Task_0esq2bb" />
    <bpmn:serviceTask id="Task_0esq2bb" name="Priprema za istrazivanje" camunda:expression="${true}">
      <bpmn:incoming>SequenceFlow_0wywhhg</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0pbp4av</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_0pbp4av" sourceRef="Task_0esq2bb" targetRef="Task_11jau3r" />
    <bpmn:serviceTask id="Task_11jau3r" name="Dodela DOI radu" camunda:expression="${true}">
      <bpmn:incoming>SequenceFlow_0pbp4av</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0qdswjb</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_0foukse" name="Rad se vraca na doradu" sourceRef="ExclusiveGateway_1fyzi59" targetRef="UserTask_0961z8l">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${enumKon == 'konNe'}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:endEvent id="EndEvent_02zeygm">
      <bpmn:incoming>SequenceFlow_0qdswjb</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_1sie4ap</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="SequenceFlow_0qdswjb" sourceRef="Task_11jau3r" targetRef="EndEvent_02zeygm" />
    <bpmn:userTask id="Task_11gz895" name="Ponovna dorada" camunda:assignee="autor">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="pdf" label="PDF - ispravka" type="string" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0b83o0a</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_14qaumf</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:boundaryEvent id="IntermediateThrowEvent_011e0id" attachedToRef="Task_11gz895">
      <bpmn:outgoing>SequenceFlow_1s2svj2</bpmn:outgoing>
      <bpmn:timerEventDefinition>
        <bpmn:timeDuration xsi:type="bpmn:tFormalExpression">${rokKD}</bpmn:timeDuration>
      </bpmn:timerEventDefinition>
    </bpmn:boundaryEvent>
    <bpmn:sequenceFlow id="SequenceFlow_14qaumf" sourceRef="Task_11gz895" targetRef="Task_1sht6lj" />
    <bpmn:sequenceFlow id="SequenceFlow_0zu31ul" sourceRef="Task_1d9r0rt" targetRef="EndEvent_10bvovk" />
    <bpmn:serviceTask id="Task_1d9r0rt" name="Slanje mejla autoru da se rad odbija" camunda:class="com.ftn.service.SendEmailRejectPaper">
      <bpmn:incoming>SequenceFlow_0vmv22b</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0zu31ul</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Task_160e4z7" name="Slanje mejla uredniku naucne oblasti rada" camunda:class="com.ftn.service.SendEmailEditorSA">
      <bpmn:incoming>SequenceFlow_01vlqe4</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1n8fr45</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_1n8fr45" sourceRef="Task_160e4z7" targetRef="Task_15174t7" />
    <bpmn:sequenceFlow id="SequenceFlow_01vlqe4" sourceRef="Task_0izwtf0" targetRef="Task_160e4z7" />
    <bpmn:sequenceFlow id="SequenceFlow_0zka55b" name="Rad se prihvata" sourceRef="ExclusiveGateway_0gy4szf" targetRef="Task_0amx9tr">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${odluka1 == 'da'}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:serviceTask id="Task_0wpfipq" name="Slanje mejla autoru da se rad odbija" camunda:expression="${true}">
      <bpmn:incoming>SequenceFlow_014ndlh</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1sie4ap</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_1sie4ap" sourceRef="Task_0wpfipq" targetRef="EndEvent_02zeygm" />
    <bpmn:sequenceFlow id="SequenceFlow_1d838t7" name="Rad se odbija" sourceRef="ExclusiveGateway_0gy4szf" targetRef="Task_0f1z33u">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${odluka1 == 'ne'}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_1s2svj2" sourceRef="IntermediateThrowEvent_011e0id" targetRef="Task_1lf5ru7" />
    <bpmn:sequenceFlow id="SequenceFlow_1qenln2" sourceRef="IntermediateThrowEvent_0r5uxvl" targetRef="Task_1lf5ru7" />
    <bpmn:serviceTask id="Task_1lfhhkg" name="Slanje mejla autoru da se rad odbija" camunda:expression="${true}">
      <bpmn:incoming>SequenceFlow_1fydbdw</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1rqb8qa</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:endEvent id="EndEvent_1mnp56z">
      <bpmn:incoming>SequenceFlow_1rqb8qa</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="SequenceFlow_1rqb8qa" sourceRef="Task_1lfhhkg" targetRef="EndEvent_1mnp56z" />
    <bpmn:serviceTask id="Task_0yngy17" name="Slanje mejla autoru da se rad odbija" camunda:class="com.ftn.service.SendEmailRejectPaper">
      <bpmn:incoming>SequenceFlow_1m1a5vd</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0m0exfh</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_014ndlh" sourceRef="Task_0f1z33u" targetRef="Task_0wpfipq" />
    <bpmn:serviceTask id="Task_0f1z33u" name="Odbija se rad" camunda:expression="${execution.setVariable(&#39;prihvacenRad&#39;, false)}">
      <bpmn:incoming>SequenceFlow_1d838t7</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_014ndlh</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_1fydbdw" sourceRef="Task_1lf5ru7" targetRef="Task_1lfhhkg" />
    <bpmn:serviceTask id="Task_1lf5ru7" name="Odbija se rad" camunda:expression="${execution.setVariable(&#39;prihvacenRad&#39;, false)}">
      <bpmn:incoming>SequenceFlow_1s2svj2</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_1qenln2</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1fydbdw</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Task_0s7vb7g" name="Slanje mejla autoru za ispravku rada" camunda:expression="${true}">
      <bpmn:incoming>SequenceFlow_0lgl4wx</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_08sdjcr</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_0lgl4wx" sourceRef="Task_02wrpkl" targetRef="Task_0s7vb7g" />
    <bpmn:sequenceFlow id="SequenceFlow_08sdjcr" sourceRef="Task_0s7vb7g" targetRef="Task_0unp8sg" />
    <bpmn:sequenceFlow id="SequenceFlow_0b83o0a" sourceRef="Task_07wr2vv" targetRef="Task_11gz895" />
    <bpmn:serviceTask id="Task_07wr2vv" name="Slanje mejla autoru za ispravku rada" camunda:expression="${true}">
      <bpmn:incoming>SequenceFlow_0u920x2</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0b83o0a</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_0m0exfh" sourceRef="Task_0yngy17" targetRef="EndEvent_064o835" />
    <bpmn:userTask id="UserTask_0961z8l" name="Postavka roka za doradu" camunda:assignee="${urednik}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="rokKD" label="Rok za doradu rada" type="string">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0foukse</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0u920x2</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="SequenceFlow_0u920x2" sourceRef="UserTask_0961z8l" targetRef="Task_07wr2vv" />
    <bpmn:sequenceFlow id="SequenceFlow_162gvvb" sourceRef="ExclusiveGateway_0vpznun" targetRef="Task_19lt5sh">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${odluka1=='daUUVI'}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_0n1hq78" sourceRef="Task_15174t7" targetRef="Task_19lt5sh" />
    <bpmn:sequenceFlow id="SequenceFlow_0v1romv" sourceRef="Task_15l1pq0" targetRef="Task_1wkpbia" />
    <bpmn:serviceTask id="Task_15l1pq0" name="Slanje mejla glavnom uredniku" camunda:class="com.ftn.service.SendEmailMainEditor">
      <bpmn:incoming>SequenceFlow_005uica</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_0k8tyiw</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0v1romv</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_0ekjydp" sourceRef="Task_19lt5sh" targetRef="SubProcess_0w4maob" />
    <bpmn:userTask id="Task_19lt5sh" name="Postavka roka za recenziranje" camunda:assignee="${urednikNO}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="rokR" label="Rok za recenziranje" type="string" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0n1hq78</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_162gvvb</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0ekjydp</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_1ot7nrm">
      <bpmn:incoming>SequenceFlow_0ftqdzl</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0bfek1l</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_0zq1mcl</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_0bfek1l" sourceRef="ExclusiveGateway_1ot7nrm" targetRef="Task_0nh4hbc">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${oa == false}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:exclusiveGateway id="ExclusiveGateway_18wa641">
      <bpmn:incoming>SequenceFlow_0zq1mcl</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1i83r0c</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_04l5bot</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_0zq1mcl" sourceRef="ExclusiveGateway_1ot7nrm" targetRef="ExclusiveGateway_18wa641">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${oa == true}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_1i83r0c" sourceRef="ExclusiveGateway_18wa641" targetRef="Task_0nh4hbc">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${active == true}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_04l5bot" sourceRef="ExclusiveGateway_18wa641" targetRef="SubProcess_18mxfg9">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${active == false}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_15aud0u" sourceRef="SubProcess_18mxfg9" targetRef="Task_0nh4hbc" />
    <bpmn:subProcess id="SubProcess_0w4maob" name="">
      <bpmn:incoming>SequenceFlow_0ekjydp</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_03qhkkw</bpmn:outgoing>
      <bpmn:startEvent id="StartEvent_1ol8awn">
        <bpmn:outgoing>SequenceFlow_0qrdjdj</bpmn:outgoing>
      </bpmn:startEvent>
      <bpmn:userTask id="Task_1gse1ob" name="Recenziranje rada" camunda:assignee="${oneRec}">
        <bpmn:extensionElements>
          <camunda:formData>
            <camunda:formField id="pdf" label="PDF" type="string" />
            <camunda:formField id="komentarRad" label="Komentar o radu" type="string" defaultValue="${&#34; &#34;}">
              <camunda:validation>
                <camunda:constraint name="required" />
              </camunda:validation>
            </camunda:formField>
            <camunda:formField id="preporukaRad" label="Preporuka" type="enum">
              <camunda:value id="prep1" name="Prihvata se" />
              <camunda:value id="prep2" name="Prihvata se uz manje ispravke" />
              <camunda:value id="prep3" name="Prihvata se uslovno uz vece ispravke" />
              <camunda:value id="prep4" name="Odbija se" />
            </camunda:formField>
            <camunda:formField id="komentarU" label="Komentar za urednika" type="string" defaultValue="${&#34; &#34;}">
              <camunda:validation>
                <camunda:constraint name="required" />
              </camunda:validation>
            </camunda:formField>
          </camunda:formData>
          <camunda:taskListener event="complete">
            <camunda:script scriptFormat="Groovy">taskFormData = task.getExecution().getProcessEngineServices().getFormService().getTaskFormData(task.getId());

formFields = taskFormData. getFormFields();
if(formFields!=null){
   for(field in formFields){
       if(field.getId() == "komentarRad"){
                komentari.add(field.getValue());
       }
       else if(field.getId() == "preporukaRad"){
                preporuke.add(field.getValue());
       }
       else if(field.getId() == "komentarU"){
                komentariU.add(field.getValue());
       }
   }
}</camunda:script>
          </camunda:taskListener>
        </bpmn:extensionElements>
        <bpmn:incoming>SequenceFlow_0qrdjdj</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_02ipdpy</bpmn:outgoing>
        <bpmn:multiInstanceLoopCharacteristics camunda:collection="${recenz}" camunda:elementVariable="oneRec" />
      </bpmn:userTask>
      <bpmn:sequenceFlow id="SequenceFlow_0qrdjdj" sourceRef="StartEvent_1ol8awn" targetRef="Task_1gse1ob" />
      <bpmn:boundaryEvent id="IntermediateThrowEvent_13kfrt9" attachedToRef="Task_1gse1ob">
        <bpmn:outgoing>SequenceFlow_1moxd4p</bpmn:outgoing>
        <bpmn:timerEventDefinition id="TimerEventDefinition_1nve0np">
          <bpmn:timeDuration xsi:type="bpmn:tFormalExpression">${rokR}</bpmn:timeDuration>
        </bpmn:timerEventDefinition>
      </bpmn:boundaryEvent>
      <bpmn:serviceTask id="Task_0bx7mm3" name="Obavestava se urednik" camunda:expression="${true}">
        <bpmn:incoming>SequenceFlow_1moxd4p</bpmn:incoming>
        <bpmn:incoming>SequenceFlow_1i5xbw3</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_1x7hl97</bpmn:outgoing>
      </bpmn:serviceTask>
      <bpmn:userTask id="Task_1rqekl4" name="Odabir drugog recenzenta" camunda:assignee="${urednik}">
        <bpmn:extensionElements>
          <camunda:taskListener event="create">
            <camunda:script scriptFormat="Groovy">taskFormData = task.getExecution().getProcessEngineServices().getFormService().getTaskFormData(task.getId());
recenzenti2 = task.getExecution().getProcessEngineServices().getIdentityService().createUserQuery().memberOfGroup("recenzenti").list();

task.getExecution().setVariable("list2", recenzenti2);

formFields = taskFormData. getFormFields();
if(formFields!=null){
   for(field in formFields){
       if( field.getId() == "odabRec"){
         
           items = field.getType().getValues();
           for(recenzent in recenzenti2){
               items.put(recenzent.getId(),recenzent.getId());
           }
       }
   }
}</camunda:script>
          </camunda:taskListener>
          <camunda:formData>
            <camunda:formField id="odabRec" label="Odabir drugog recenzenta" type="enum" />
          </camunda:formData>
          <camunda:taskListener event="complete">
            <camunda:script scriptFormat="Groovy">taskFormData = task.getExecution().getProcessEngineServices().getFormService().getTaskFormData(task.getId());
recIds3 = new java.util.ArrayList();

if(list2.isEmpty()){
  recIds3.add(urednik);
} else {

formFields = taskFormData. getFormFields();
if(formFields!=null){
   for(field in formFields){
       if(field.getId() == "odabRec"){          
            
                recIds3.add(field.getValue());
              
       }
   }
}
}

task.getExecution().setVariable("recenz", recIds3);</camunda:script>
          </camunda:taskListener>
        </bpmn:extensionElements>
        <bpmn:incoming>SequenceFlow_1x7hl97</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_06hp68u</bpmn:outgoing>
      </bpmn:userTask>
      <bpmn:userTask id="Task_1km4mbv" name="Recenziranje" camunda:assignee="${odabRec}">
        <bpmn:extensionElements>
          <camunda:formData>
            <camunda:formField id="pdf" label="PDF" type="string" />
            <camunda:formField id="komentarD" label="Komentar" type="string">
              <camunda:validation>
                <camunda:constraint name="required" />
              </camunda:validation>
            </camunda:formField>
            <camunda:formField id="preporukaD" label="Preporuka" type="enum">
              <camunda:value id="prep11" name="Prihvata se" />
              <camunda:value id="prep22" name="Prihvata se uz manje ispravke" />
              <camunda:value id="prep33" name="Prihvata se uslovno uz vece ispravke" />
              <camunda:value id="prep44" name="Odbija se" />
            </camunda:formField>
            <camunda:formField id="komentarUr" label="Komentar za urednika" type="string">
              <camunda:validation>
                <camunda:constraint name="required" />
              </camunda:validation>
            </camunda:formField>
          </camunda:formData>
          <camunda:taskListener event="complete">
            <camunda:script scriptFormat="Groovy">taskFormData = task.getExecution().getProcessEngineServices().getFormService().getTaskFormData(task.getId());

formFields = taskFormData. getFormFields();
if(formFields!=null){
   for(field in formFields){
       if(field.getId() == "komentarD"){
                komentari.add(field.getValue());
       }
       else if(field.getId() == "preporukaD"){
                preporuke.add(field.getValue());
       }
      else if (field.getId() == "komentarUr"){
      komentariU.add(field.getValue());
}
   }
}</camunda:script>
          </camunda:taskListener>
        </bpmn:extensionElements>
        <bpmn:incoming>SequenceFlow_06hp68u</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_084d478</bpmn:outgoing>
      </bpmn:userTask>
      <bpmn:sequenceFlow id="SequenceFlow_1moxd4p" sourceRef="IntermediateThrowEvent_13kfrt9" targetRef="Task_0bx7mm3" />
      <bpmn:sequenceFlow id="SequenceFlow_1x7hl97" sourceRef="Task_0bx7mm3" targetRef="Task_1rqekl4" />
      <bpmn:sequenceFlow id="SequenceFlow_06hp68u" sourceRef="Task_1rqekl4" targetRef="Task_1km4mbv" />
      <bpmn:sequenceFlow id="SequenceFlow_1i5xbw3" sourceRef="IntermediateThrowEvent_0qbd0s0" targetRef="Task_0bx7mm3" />
      <bpmn:boundaryEvent id="IntermediateThrowEvent_0qbd0s0" attachedToRef="Task_1km4mbv">
        <bpmn:outgoing>SequenceFlow_1i5xbw3</bpmn:outgoing>
        <bpmn:timerEventDefinition id="TimerEventDefinition_0jm0fbp">
          <bpmn:timeDuration xsi:type="bpmn:tFormalExpression">${rokR}</bpmn:timeDuration>
        </bpmn:timerEventDefinition>
      </bpmn:boundaryEvent>
      <bpmn:endEvent id="EndEvent_0jda27s">
        <bpmn:incoming>SequenceFlow_03py57x</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:sequenceFlow id="SequenceFlow_02ipdpy" sourceRef="Task_1gse1ob" targetRef="Task_1tct9cz" />
      <bpmn:serviceTask id="Task_1tct9cz" name="Cuvanje recenzija" camunda:expression="${execution.setVariable(&#39;recenzije&#39;, true)}">
        <bpmn:incoming>SequenceFlow_02ipdpy</bpmn:incoming>
        <bpmn:incoming>SequenceFlow_084d478</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_03py57x</bpmn:outgoing>
      </bpmn:serviceTask>
      <bpmn:sequenceFlow id="SequenceFlow_03py57x" sourceRef="Task_1tct9cz" targetRef="EndEvent_0jda27s" />
      <bpmn:sequenceFlow id="SequenceFlow_084d478" sourceRef="Task_1km4mbv" targetRef="Task_1tct9cz" />
    </bpmn:subProcess>
    <bpmn:sequenceFlow id="SequenceFlow_03qhkkw" sourceRef="SubProcess_0w4maob" targetRef="Task_1xusaua" />
    <bpmn:sequenceFlow id="SequenceFlow_0k8tyiw" sourceRef="Task_082m1vu" targetRef="Task_15l1pq0" />
    <bpmn:serviceTask id="Task_082m1vu" name="Postavljanje glavnog urednika" camunda:class="com.ftn.service.HandlerME">
      <bpmn:incoming>SequenceFlow_0v6w7mv</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0k8tyiw</bpmn:outgoing>
    </bpmn:serviceTask>
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Proces_obrade_podnetog_teksta">
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">
        <dc:Bounds x="342" y="421" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1pk2zve_di" bpmnElement="SequenceFlow_1pk2zve">
        <di:waypoint x="378" y="439" />
        <di:waypoint x="470" y="439" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_0xcg2at_di" bpmnElement="Task_1ng75p6">
        <dc:Bounds x="470" y="399" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0ftqdzl_di" bpmnElement="SequenceFlow_0ftqdzl">
        <di:waypoint x="570" y="439" />
        <di:waypoint x="675" y="439" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_0ue2axa_di" bpmnElement="Task_0nh4hbc">
        <dc:Bounds x="650" y="540" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0v6w7mv_di" bpmnElement="SequenceFlow_0v6w7mv">
        <di:waypoint x="650" y="580" />
        <di:waypoint x="588" y="580" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_1ebwj0g_di" bpmnElement="Task_1wkpbia">
        <dc:Bounds x="310" y="670" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_195xwva_di" bpmnElement="SequenceFlow_195xwva">
        <di:waypoint x="410" y="710" />
        <di:waypoint x="488" y="710" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_018ocev_di" bpmnElement="Task_0pczlck">
        <dc:Bounds x="488" y="670" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_0y5bhrw_di" bpmnElement="ExclusiveGateway_0y5bhrw" isMarkerVisible="true">
        <dc:Bounds x="675" y="685" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0dn1jri_di" bpmnElement="SequenceFlow_0dn1jri">
        <di:waypoint x="588" y="710" />
        <di:waypoint x="675" y="710" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_064o835_di" bpmnElement="EndEvent_064o835">
        <dc:Bounds x="892" y="832" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1m1a5vd_di" bpmnElement="SequenceFlow_1m1a5vd">
        <di:waypoint x="725" y="710" />
        <di:waypoint x="860" y="710" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="756" y="692" width="68" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_0rj9g0v_di" bpmnElement="ExclusiveGateway_0rj9g0v" isMarkerVisible="true">
        <dc:Bounds x="675" y="905" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0s72x00_di" bpmnElement="SequenceFlow_0s72x00">
        <di:waypoint x="700" y="735" />
        <di:waypoint x="700" y="780" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0ehfgfn_di" bpmnElement="SequenceFlow_0ehfgfn">
        <di:waypoint x="675" y="930" />
        <di:waypoint x="570" y="930" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="602" y="896" width="55" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_1g9qpt7_di" bpmnElement="Task_04cabah">
        <dc:Bounds x="470" y="890" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1qmz0is_di" bpmnElement="SequenceFlow_1qmz0is">
        <di:waypoint x="470" y="930" />
        <di:waypoint x="410" y="930" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_1jakbn3_di" bpmnElement="Task_1ch13t8">
        <dc:Bounds x="310" y="890" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_1cfbef0_di" bpmnElement="Task_10mfn61">
        <dc:Bounds x="160" y="890" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0nov1z3_di" bpmnElement="SequenceFlow_0nov1z3">
        <di:waypoint x="700" y="955" />
        <di:waypoint x="700" y="1040" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="708" y="974" width="83" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="BoundaryEvent_046of08_di" bpmnElement="IntermediateThrowEvent_0xm8n7n">
        <dc:Bounds x="192" y="952" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0vmv22b_di" bpmnElement="SequenceFlow_0vmv22b">
        <di:waypoint x="210" y="988" />
        <di:waypoint x="210" y="1100" />
        <di:waypoint x="270" y="1100" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="139" y="730" width="62" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_10bvovk_di" bpmnElement="EndEvent_10bvovk">
        <dc:Bounds x="462" y="1082" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0d969as_di" bpmnElement="SequenceFlow_0d969as">
        <di:waypoint x="310" y="930" />
        <di:waypoint x="260" y="930" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="SubProcess_18mxfg9_di" bpmnElement="SubProcess_18mxfg9" isExpanded="true">
        <dc:Bounds x="587" y="80" width="525" height="237" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="StartEvent_1hxza2q_di" bpmnElement="StartEvent_1hxza2q">
        <dc:Bounds x="647" y="199" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BoundaryEvent_0q7ebra_di" bpmnElement="IntermediateThrowEvent_13kfrt9">
        <dc:Bounds x="1332" y="1062" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_1tsyq2v_di" bpmnElement="Task_1gse1ob">
        <dc:Bounds x="1310" y="1080" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_15tve08_di" bpmnElement="Task_1xusaua">
        <dc:Bounds x="1870" y="1030" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_0hs0fz5_di" bpmnElement="Task_1rqekl4">
        <dc:Bounds x="1310" y="800" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_01toill_di" bpmnElement="SequenceFlow_01toill">
        <di:waypoint x="700" y="860" />
        <di:waypoint x="700" y="905" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_1jvueid_di" bpmnElement="Task_0cuuxi6">
        <dc:Bounds x="650" y="780" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_0qxjgf3_di" bpmnElement="Task_0izwtf0">
        <dc:Bounds x="650" y="1040" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_1pvmw1a_di" bpmnElement="Task_15174t7">
        <dc:Bounds x="910" y="930" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0m2cn4i_di" bpmnElement="SequenceFlow_0m2cn4i">
        <di:waypoint x="683" y="217" />
        <di:waypoint x="722" y="217" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_0thtzab_di" bpmnElement="Task_12j9my1">
        <dc:Bounds x="722" y="177" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0f0a8oa_di" bpmnElement="SequenceFlow_0f0a8oa">
        <di:waypoint x="822" y="217" />
        <di:waypoint x="872" y="217" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_19zlut1_di" bpmnElement="Task_1rmemd7">
        <dc:Bounds x="872" y="177" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_0m9hdhp_di" bpmnElement="EndEvent_0m9hdhp">
        <dc:Bounds x="1024" y="199" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0ikvtb7_di" bpmnElement="SequenceFlow_0ikvtb7">
        <di:waypoint x="972" y="217" />
        <di:waypoint x="1024" y="217" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_005uica_di" bpmnElement="SequenceFlow_005uica">
        <di:waypoint x="210" y="890" />
        <di:waypoint x="210" y="580" />
        <di:waypoint x="310" y="580" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_0gy4szf_di" bpmnElement="ExclusiveGateway_0gy4szf" isMarkerVisible="true">
        <dc:Bounds x="2045" y="1045" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1aj20ry_di" bpmnElement="SequenceFlow_1aj20ry">
        <di:waypoint x="1970" y="1070" />
        <di:waypoint x="2045" y="1070" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1xeb3iv_di" bpmnElement="SequenceFlow_1xeb3iv">
        <di:waypoint x="2070" y="1045" />
        <di:waypoint x="2070" y="940" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1981" y="969" width="78" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_11ceiqj_di" bpmnElement="Task_0unp8sg">
        <dc:Bounds x="2020" y="650" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BoundaryEvent_0pj9tyt_di" bpmnElement="IntermediateThrowEvent_0r5uxvl">
        <dc:Bounds x="2062" y="632" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_1j3afyv_di" bpmnElement="Task_02wrpkl">
        <dc:Bounds x="2020" y="860" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0yxira0_di" bpmnElement="SequenceFlow_0yxira0">
        <di:waypoint x="2020" y="690" />
        <di:waypoint x="1340" y="690" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_0ghd72f_di" bpmnElement="Task_1sht6lj">
        <dc:Bounds x="1240" y="650" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_0vpznun_di" bpmnElement="ExclusiveGateway_0vpznun" isMarkerVisible="true">
        <dc:Bounds x="1125" y="665" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0aak7nm_di" bpmnElement="SequenceFlow_0aak7nm">
        <di:waypoint x="1240" y="690" />
        <di:waypoint x="1175" y="690" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1ta9unn_di" bpmnElement="SequenceFlow_1ta9unn">
        <di:waypoint x="1150" y="665" />
        <di:waypoint x="1150" y="360" />
        <di:waypoint x="1320" y="360" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1161" y="370" width="83" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_0i3uiko_di" bpmnElement="Task_0uzmh3k">
        <dc:Bounds x="1320" y="330" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_1fyzi59_di" bpmnElement="ExclusiveGateway_1fyzi59" isMarkerVisible="true">
        <dc:Bounds x="2445" y="414" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1u6u91a_di" bpmnElement="SequenceFlow_1u6u91a">
        <di:waypoint x="1420" y="360" />
        <di:waypoint x="2470" y="360" />
        <di:waypoint x="2470" y="414" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_12e38yz_di" bpmnElement="SequenceFlow_12e38yz">
        <di:waypoint x="2470" y="464" />
        <di:waypoint x="2470" y="740" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1809" y="680" width="72" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_008uqd0_di" bpmnElement="SequenceFlow_008uqd0">
        <di:waypoint x="2470" y="820" />
        <di:waypoint x="2470" y="890" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_19ofw90_di" bpmnElement="Task_0amx9tr">
        <dc:Bounds x="2420" y="740" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_0goldzk_di" bpmnElement="Task_0ei7sqx">
        <dc:Bounds x="2420" y="890" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0wywhhg_di" bpmnElement="SequenceFlow_0wywhhg">
        <di:waypoint x="2470" y="970" />
        <di:waypoint x="2470" y="1040" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_1utgeoe_di" bpmnElement="Task_0esq2bb">
        <dc:Bounds x="2420" y="1040" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0pbp4av_di" bpmnElement="SequenceFlow_0pbp4av">
        <di:waypoint x="2470" y="1120" />
        <di:waypoint x="2470" y="1190" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_0uwna1x_di" bpmnElement="Task_11jau3r">
        <dc:Bounds x="2420" y="1190" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0foukse_di" bpmnElement="SequenceFlow_0foukse">
        <di:waypoint x="2445" y="439" />
        <di:waypoint x="2240" y="439" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2306" y="446" width="81" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_02zeygm_di" bpmnElement="EndEvent_02zeygm">
        <dc:Bounds x="2612" y="1212" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0qdswjb_di" bpmnElement="SequenceFlow_0qdswjb">
        <di:waypoint x="2520" y="1230" />
        <di:waypoint x="2612" y="1230" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_16jwv35_di" bpmnElement="Task_11gz895">
        <dc:Bounds x="1440" y="399" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BoundaryEvent_1gzf4s9_di" bpmnElement="IntermediateThrowEvent_011e0id">
        <dc:Bounds x="1472" y="461" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_14qaumf_di" bpmnElement="SequenceFlow_14qaumf">
        <di:waypoint x="1440" y="439" />
        <di:waypoint x="1290" y="439" />
        <di:waypoint x="1290" y="650" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0zu31ul_di" bpmnElement="SequenceFlow_0zu31ul">
        <di:waypoint x="370" y="1100" />
        <di:waypoint x="462" y="1100" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_1hwl6tj_di" bpmnElement="Task_1d9r0rt">
        <dc:Bounds x="270" y="1060" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_0lzc53x_di" bpmnElement="Task_1tct9cz">
        <dc:Bounds x="1510" y="1080" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_0hjy54a_di" bpmnElement="Task_0bx7mm3">
        <dc:Bounds x="1310" y="920" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_18391s8_di" bpmnElement="Task_1km4mbv">
        <dc:Bounds x="1500" y="800" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_0uqs3lf_di" bpmnElement="Task_160e4z7">
        <dc:Bounds x="820" y="1040" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1n8fr45_di" bpmnElement="SequenceFlow_1n8fr45">
        <di:waypoint x="870" y="1040" />
        <di:waypoint x="870" y="970" />
        <di:waypoint x="910" y="970" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_01vlqe4_di" bpmnElement="SequenceFlow_01vlqe4">
        <di:waypoint x="750" y="1080" />
        <di:waypoint x="820" y="1080" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0zka55b_di" bpmnElement="SequenceFlow_0zka55b">
        <di:waypoint x="2095" y="1070" />
        <di:waypoint x="2200" y="1070" />
        <di:waypoint x="2200" y="780" />
        <di:waypoint x="2420" y="780" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2111" y="1053" width="78" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_05au348_di" bpmnElement="Task_0wpfipq">
        <dc:Bounds x="2300" y="1270" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1sie4ap_di" bpmnElement="SequenceFlow_1sie4ap">
        <di:waypoint x="2400" y="1310" />
        <di:waypoint x="2630" y="1310" />
        <di:waypoint x="2630" y="1248" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1d838t7_di" bpmnElement="SequenceFlow_1d838t7">
        <di:waypoint x="2070" y="1095" />
        <di:waypoint x="2070" y="1190" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1996" y="1139" width="68" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1s2svj2_di" bpmnElement="SequenceFlow_1s2svj2">
        <di:waypoint x="1490" y="497" />
        <di:waypoint x="1490" y="510" />
        <di:waypoint x="1640" y="510" />
        <di:waypoint x="1640" y="530" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1qenln2_di" bpmnElement="SequenceFlow_1qenln2">
        <di:waypoint x="2080" y="632" />
        <di:waypoint x="2080" y="570" />
        <di:waypoint x="1690" y="570" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_07fi2eb_di" bpmnElement="Task_1lfhhkg">
        <dc:Bounds x="1420" y="530" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_1mnp56z_di" bpmnElement="EndEvent_1mnp56z">
        <dc:Bounds x="1342" y="552" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1rqb8qa_di" bpmnElement="SequenceFlow_1rqb8qa">
        <di:waypoint x="1420" y="570" />
        <di:waypoint x="1378" y="570" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_0w893m5_di" bpmnElement="Task_0yngy17">
        <dc:Bounds x="860" y="670" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_014ndlh_di" bpmnElement="SequenceFlow_014ndlh">
        <di:waypoint x="2070" y="1270" />
        <di:waypoint x="2070" y="1310" />
        <di:waypoint x="2300" y="1310" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_13cntxi_di" bpmnElement="Task_0f1z33u">
        <dc:Bounds x="2020" y="1190" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1fydbdw_di" bpmnElement="SequenceFlow_1fydbdw">
        <di:waypoint x="1590" y="570" />
        <di:waypoint x="1520" y="570" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_0532ope_di" bpmnElement="Task_1lf5ru7">
        <dc:Bounds x="1590" y="530" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_03w190p_di" bpmnElement="Task_0s7vb7g">
        <dc:Bounds x="1850" y="760" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0lgl4wx_di" bpmnElement="SequenceFlow_0lgl4wx">
        <di:waypoint x="2020" y="900" />
        <di:waypoint x="1900" y="900" />
        <di:waypoint x="1900" y="840" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_08sdjcr_di" bpmnElement="SequenceFlow_08sdjcr">
        <di:waypoint x="1950" y="800" />
        <di:waypoint x="2070" y="800" />
        <di:waypoint x="2070" y="730" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0b83o0a_di" bpmnElement="SequenceFlow_0b83o0a">
        <di:waypoint x="1600" y="439" />
        <di:waypoint x="1540" y="439" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_1gtz4bo_di" bpmnElement="Task_07wr2vv">
        <dc:Bounds x="1600" y="399" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0m0exfh_di" bpmnElement="SequenceFlow_0m0exfh">
        <di:waypoint x="910" y="750" />
        <di:waypoint x="910" y="832" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_0961z8l_di" bpmnElement="UserTask_0961z8l">
        <dc:Bounds x="2140" y="399" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0u920x2_di" bpmnElement="SequenceFlow_0u920x2">
        <di:waypoint x="2140" y="439" />
        <di:waypoint x="1700" y="439" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_162gvvb_di" bpmnElement="SequenceFlow_162gvvb">
        <di:waypoint x="1125" y="690" />
        <di:waypoint x="1090" y="690" />
        <di:waypoint x="1090" y="1040" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0n1hq78_di" bpmnElement="SequenceFlow_0n1hq78">
        <di:waypoint x="1010" y="970" />
        <di:waypoint x="1060" y="970" />
        <di:waypoint x="1060" y="1040" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0v1romv_di" bpmnElement="SequenceFlow_0v1romv">
        <di:waypoint x="360" y="620" />
        <di:waypoint x="360" y="670" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_1x36bv8_di" bpmnElement="Task_15l1pq0">
        <dc:Bounds x="310" y="540" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0ekjydp_di" bpmnElement="SequenceFlow_0ekjydp">
        <di:waypoint x="1120" y="1080" />
        <di:waypoint x="1200" y="1080" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_0ptk5s8_di" bpmnElement="Task_19lt5sh">
        <dc:Bounds x="1020" y="1040" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_1ot7nrm_di" bpmnElement="ExclusiveGateway_1ot7nrm" isMarkerVisible="true">
        <dc:Bounds x="675" y="414" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0bfek1l_di" bpmnElement="SequenceFlow_0bfek1l">
        <di:waypoint x="700" y="464" />
        <di:waypoint x="700" y="540" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_18wa641_di" bpmnElement="ExclusiveGateway_18wa641" isMarkerVisible="true">
        <dc:Bounds x="815" y="414" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0zq1mcl_di" bpmnElement="SequenceFlow_0zq1mcl">
        <di:waypoint x="725" y="439" />
        <di:waypoint x="815" y="439" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1i83r0c_di" bpmnElement="SequenceFlow_1i83r0c">
        <di:waypoint x="840" y="464" />
        <di:waypoint x="840" y="560" />
        <di:waypoint x="750" y="560" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_04l5bot_di" bpmnElement="SequenceFlow_04l5bot">
        <di:waypoint x="840" y="439" />
        <di:waypoint x="840" y="366" />
        <di:waypoint x="829" y="366" />
        <di:waypoint x="829" y="317" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_15aud0u_di" bpmnElement="SequenceFlow_15aud0u">
        <di:waypoint x="964" y="317" />
        <di:waypoint x="964" y="590" />
        <di:waypoint x="750" y="590" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="SubProcess_0w4maob_di" bpmnElement="SubProcess_0w4maob" isExpanded="true">
        <dc:Bounds x="1200" y="770" width="525" height="442" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="StartEvent_1ol8awn_di" bpmnElement="StartEvent_1ol8awn">
        <dc:Bounds x="1222" y="1102" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0qrdjdj_di" bpmnElement="SequenceFlow_0qrdjdj">
        <di:waypoint x="1258" y="1120" />
        <di:waypoint x="1310" y="1120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1moxd4p_di" bpmnElement="SequenceFlow_1moxd4p">
        <di:waypoint x="1350" y="1062" />
        <di:waypoint x="1350" y="1000" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1x7hl97_di" bpmnElement="SequenceFlow_1x7hl97">
        <di:waypoint x="1350" y="920" />
        <di:waypoint x="1350" y="880" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_06hp68u_di" bpmnElement="SequenceFlow_06hp68u">
        <di:waypoint x="1410" y="840" />
        <di:waypoint x="1500" y="840" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1i5xbw3_di" bpmnElement="SequenceFlow_1i5xbw3">
        <di:waypoint x="1530" y="898" />
        <di:waypoint x="1530" y="960" />
        <di:waypoint x="1410" y="960" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="BoundaryEvent_0ax5jaw_di" bpmnElement="IntermediateThrowEvent_0qbd0s0">
        <dc:Bounds x="1512" y="862" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_0jda27s_di" bpmnElement="EndEvent_0jda27s">
        <dc:Bounds x="1662" y="1102" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_02ipdpy_di" bpmnElement="SequenceFlow_02ipdpy">
        <di:waypoint x="1410" y="1120" />
        <di:waypoint x="1510" y="1120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_03py57x_di" bpmnElement="SequenceFlow_03py57x">
        <di:waypoint x="1610" y="1120" />
        <di:waypoint x="1662" y="1120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_03qhkkw_di" bpmnElement="SequenceFlow_03qhkkw">
        <di:waypoint x="1725" y="1070" />
        <di:waypoint x="1870" y="1070" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_084d478_di" bpmnElement="SequenceFlow_084d478">
        <di:waypoint x="1570" y="880" />
        <di:waypoint x="1570" y="1080" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0k8tyiw_di" bpmnElement="SequenceFlow_0k8tyiw">
        <di:waypoint x="488" y="580" />
        <di:waypoint x="410" y="580" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_1q0ccbh_di" bpmnElement="Task_082m1vu">
        <dc:Bounds x="488" y="540" width="100" height="80" />
      </bpmndi:BPMNShape>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
